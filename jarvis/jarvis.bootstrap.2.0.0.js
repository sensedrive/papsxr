var Jarvis={bootstrap:{configs:[],modules:[],loadErrorCallback:null,loadProgressCallback:null,loadEndCallback:null,eventCallbacks:[],containerId:null,coreIsLoaded:!1},core:{},modules:{}},JarvisPublicPath="";Jarvis.bootstrap.setBasePath=function(o){JarvisPublicPath=o},Jarvis.bootstrap.useModule=function(o,r,a){Jarvis.bootstrap.modules.push({name:o,path:r,rawConfig:a})},Jarvis.bootstrap.configure=function(o){Jarvis.bootstrap.configs.push(o)},Jarvis.bootstrap.onLoadError=function(o){Jarvis.bootstrap.loadErrorCallback=o},Jarvis.bootstrap.onLoadProgress=function(o){Jarvis.bootstrap.loadProgressCallback=o},Jarvis.bootstrap.onLoadEnd=function(o){Jarvis.bootstrap.loadEndCallback=o},Jarvis.bootstrap.addEventCallback=function(o){Jarvis.bootstrap.eventCallbacks.push(o),Jarvis.bootstrap.coreIsLoaded&&Jarvis.core.loader.addEventCallback(o)},Jarvis.bootstrap.sendEvent=function(o,r){Jarvis.bootstrap.coreIsLoaded&&Jarvis.core.loader.sendEvent(o,r)},Jarvis.bootstrap.loadInContainer=function(o){if(Jarvis.bootstrap.containerId=o,!Jarvis.bootstrap.loadErrorCallback)throw"No error callback provided. Call JarvisLoaderWrapper.onLoadError(...) first.";if(!Jarvis.bootstrap.containerId)throw"No containerId provided.";function r(){return"undefined"!=typeof bowser}function a(o){t("Error",{type:"Other",message:o}),Jarvis.bootstrap.loadErrorCallback(o)}function t(o,r){for(var a=0;a<Jarvis.bootstrap.eventCallbacks.length;a++)Jarvis.bootstrap.eventCallbacks[a](o,r)}!function(o){if(r())o();else{var t=document.createElement("script");void 0!==t.addEventListener?(t.src=JarvisPublicPath+"/vendor/bowser.2.11.0.min.js",t.async=!0,t.addEventListener("error",(function(){a("Could not load bowser.")})),t.addEventListener("load",(function(){o()})),document.body.appendChild(t)):o()}}((function(){!function(o){if(!r()||!bowser.getParser(window.navigator.userAgent).satisfies({firefox:">=54",chrome:">=51",safari:">=10",edge:">=15",opera:">=38",samsung_internet:">=4"}))return t("Error",{type:"UnsupportedBrowser"}),void Jarvis.bootstrap.loadErrorCallback("Your browser is not supported. Jarvis runs on the latest versions of Firefox, Chrome, Safari, Edge and Opera.");o()}((function(){!function(o){if(!function(){try{var o=document.createElement("canvas");return!(void 0===window.WebGLRenderingContext||!o.getContext("webgl")&&!o.getContext("experimental-webgl"))}catch(o){return!1}}())return t("Error",{type:"NoWebGL"}),void Jarvis.bootstrap.loadErrorCallback("This browser does not support WebGL.");o()}((function(){!function(o){if("undefined"==typeof THREE){var r=document.createElement("script");r.src=JarvisPublicPath+"/vendor/three.0.130.1.min.js",r.async=!0,r.addEventListener("error",(function(){a("Could not load threejs")})),r.addEventListener("load",(function(){o()})),document.body.appendChild(r)}else o()}((function(){var o;(o=document.createElement("script")).src=JarvisPublicPath+"/jarvis.core.2.0.0.js",o.async=!0,o.addEventListener("error",(function(){a("Could not load jarvis bootstrap script.")})),o.addEventListener("load",(function(){Jarvis.bootstrap.coreIsLoaded=!0;for(var o=0;o<Jarvis.bootstrap.modules.length;o++){var r=Jarvis.bootstrap.modules[o];Jarvis.core.loader.useModule(r.name,r.path,r.rawConfig)}for(o=0;o<Jarvis.bootstrap.configs.length;o++)Jarvis.core.loader.configure(Jarvis.bootstrap.configs[o]);for(Jarvis.core.loader.onLoadError(Jarvis.bootstrap.loadErrorCallback),Jarvis.bootstrap.loadProgressCallback&&Jarvis.core.loader.onLoadProgress(Jarvis.bootstrap.loadProgressCallback),Jarvis.bootstrap.loadEndCallback&&Jarvis.core.loader.onLoadEnd(Jarvis.bootstrap.loadEndCallback),o=0;o<Jarvis.bootstrap.eventCallbacks.length;o++)Jarvis.core.loader.addEventCallback(Jarvis.bootstrap.eventCallbacks[o]);Jarvis.core.loader.loadInContainer(Jarvis.bootstrap.containerId)})),document.body.appendChild(o)}))}))}))}))};